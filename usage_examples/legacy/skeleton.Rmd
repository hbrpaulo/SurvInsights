---
title: 'Tabela descritiva com correlacões e testes entre cada variável e os `tempos de falha`'
header-includes:
   - \usepackage[brazil]{babel}
output:
  html_document: default
  #word_document: default
  #pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(fig.align = 'center',
                      out.width = '80%',
                      echo = FALSE,
                      background = '0000ff',
                      message = FALSE,
                      warning = FALSE,# eval = FALSE,
                      fig.keep = 'H')
knitr::opts_knit$set(global.par = TRUE)
options(
  knitr.kable.NA = ' ',
  format.args = list(decimal.mark = ','))

```

```{r PackagesAndInput}
library(kableExtra)
library(tidyverse)
library(survival)

scripts <- sapply(list.files(path = '../../R', recursive = TRUE, pattern = "*.R$"),
       function(x){
         source(file = paste0('../../R/', x))
                invisible()})
```

# 

<!-- Sugestões do do Prof Reinaldo -->
<!-- 1. Adicionar análise sem censura de tempo médio,etc -->
<!--    1.1 Adicionar percentual de censura -->

```{r}
n <- 1000
aux <- data.frame(.y. = sample(letters[1:3], n, replace = TRUE),
                  Tempos = rexp(n, 0.05),
                  Numérica = rnorm(n, 50, 10),
                  Categórica = sample(LETTERS[1:4], n, replace = TRUE),
                  Censura = sample(0:1, n, replace = TRUE))

source('https://raw.githubusercontent.com/hbrpaulo/Misc/refs/heads/main/prettyNames.R')

nomes <- standardize_column_names(aux)
colnames(aux) <- nomes$modified

cols_to_num <- c('numerica')

aux <- aux %>% 
  mutate(across(all_of(cols_to_num), ~ as.numeric(as.character(.))))

cols_to_cat <- c('categorica')

aux <- aux %>% 
  mutate(across(all_of(cols_to_num), ~ as.numeric(as.character(.))))
```
## Main table

```{r}
complete_tab(aux)
```

